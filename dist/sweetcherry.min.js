!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("react"),require("prop-types")):"function"==typeof define&&define.amd?define(["react","prop-types"],e):t.Sweetcherry=e(t.React,t.PropTypes)}(this,function(t,e){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t,e=e&&e.hasOwnProperty("default")?e.default:e;var o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},r=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},n=function(e){function n(t){o(this,n);var r=s(this,e.call(this,t));return r.state={mounted:!1},r}return r(n,e),n.prototype.onClick=function(){this.props.disabled||this.props.onChange&&this.props.onChange({target:{type:"checkbox",name:this.props.name,checked:!this.props.checked}})},n.prototype.getSwitcherTransition=function(){return this.props.checked?["border "+this.props.speed,"box-shadow "+this.props.speed,"background-color "+3*this.props.speed.replace(/[a-z]/,"")+"s"].join(", "):"border "+this.props.speed+", box-shadow "+this.props.speed},n.prototype.getSwitcherStyles=function(){if(!this.state.mounted)return{display:"none"};var t=this.switcher?this.switcher.offsetHeight/2:0,e=this.props.checked?t+"px "+this.props.color:"0 "+this.props.secondaryColor,o=this.props.secondaryColor!==n.defaultProps.secondaryColor?this.props.secondaryColor:"#fff";return{backgroundColor:this.props.checked?this.props.color:o,borderColor:this.props.checked?this.props.color:this.props.secondaryColor,boxShadow:"inset 0 0 0 "+e,transition:this.getSwitcherTransition(),opacity:this.props.disabled?this.props.disabledOpacity:1}},n.prototype.getJackOffset=function(){return this.state.mounted&&!0===this.props.checked?window.getComputedStyle?parseInt(window.getComputedStyle(this.switcher).width)-parseInt(window.getComputedStyle(this.jack).width):parseInt(this.switcher.currentStyle.width)-parseInt(this.jack.currentStyle.width):0},n.prototype.getJackTransition=function(){return["background-color "+this.props.speed,"left "+this.props.speed.replace(/[a-z]/,"")/2+"s"].join(", ")},n.prototype.getJackStyles=function(){if(!this.state.mounted)return{};var t=this.props.jackSecondaryColor!==n.defaultProps.jackColor?this.props.jackSecondaryColor:this.props.jackColor;return{backgroundColor:this.props.checked?this.props.jackColor:t,left:this.getJackOffset(),transition:this.getJackTransition()}},n.prototype.componentDidMount=function(){this.setState({mounted:!0})},n.prototype.render=function(){var e=this,o=[this.props.className];return this.props.size&&o.push(this.props.className+"-"+this.props.size),t.createElement("span",{className:o.join(" "),style:this.getSwitcherStyles(),onClick:function(){return e.onClick()},ref:function(t){return e.switcher=t}},t.createElement("small",{style:this.getJackStyles(),ref:function(t){return e.jack=t}}))},n}(t.Component);return n.propTypes={color:e.string,secondaryColor:e.string,jackColor:e.string,jackSecondaryColor:e.string,className:e.string,disabled:e.bool,disabledOpacity:e.number,speed:e.string,size:e.string,checked:e.bool,onChange:e.func,name:e.string},n.defaultProps={color:"#64bd63",secondaryColor:"#dfdfdf",jackColor:"#fff",jackSecondaryColor:null,className:"sweetcherry",disabled:!1,disabledOpacity:.5,speed:"0.4s",size:"default"},n});
