!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react"),require("prop-types")):"function"==typeof define&&define.amd?define(["react","prop-types"],t):e.Sweetcherry=t(e.React,e.PropTypes)}(this,function(e,t){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e,t=t&&t.hasOwnProperty("default")?t.default:t;var o=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},r=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},n=function(t){function n(){return o(this,n),s(this,t.apply(this,arguments))}return r(n,t),n.prototype.onClick=function(){this.props.disabled||this.props.onChange&&this.props.onChange({target:{type:"checkbox",name:this.props.name,checked:!this.props.checked}})},n.prototype.getSwitcherTransition=function(){return this.props.checked?["border "+this.props.speed,"box-shadow "+this.props.speed,"background-color "+3*this.props.speed.replace(/[a-z]/,"")+"s"].join(", "):"border "+this.props.speed+", box-shadow "+this.props.speed},n.prototype.getSwitcherStyles=function(){if(!this.state.mounted)return{display:"none"};var e=this.switcher?this.switcher.offsetHeight/2:0,t=this.props.checked?e+"px "+this.props.color:"0 "+this.props.secondaryColor,o=this.props.secondaryColor!==n.defaultProps.secondaryColor?this.props.secondaryColor:"#fff";return{backgroundColor:this.props.checked?this.props.color:o,borderColor:this.props.checked?this.props.color:this.props.secondaryColor,boxShadow:"inset 0 0 0 "+t,transition:this.getSwitcherTransition(),opacity:this.props.disabled?this.props.disabledOpacity:1}},n.prototype.getJackOffset=function(){return this.state.mounted&&!0===this.props.checked?window.getComputedStyle?parseInt(window.getComputedStyle(this.switcher).width)-parseInt(window.getComputedStyle(this.jack).width):parseInt(this.switcher.currentStyle.width)-parseInt(this.jack.currentStyle.width):0},n.prototype.getJackTransition=function(){return["background-color "+this.props.speed,"left "+this.props.speed.replace(/[a-z]/,"")/2+"s"].join(", ")},n.prototype.getJackStyles=function(){if(!this.state.mounted)return{};var e=this.props.jackSecondaryColor!==n.defaultProps.jackColor?this.props.jackSecondaryColor:this.props.jackColor;return{backgroundColor:this.props.checked?this.props.jackColor:e,left:this.getJackOffset(),transition:this.getJackTransition()}},n.prototype.componentDidMount=function(){this.setState({mounted:!0})},n.prototype.render=function(){var t=this,o=[this.props.className];return this.props.size&&o.push(this.props.className+"-"+this.props.size),e.createElement("span",{className:o.join(" "),style:this.getSwitcherStyles(),onClick:function(){return t.onClick()},ref:function(e){return t.switcher=e}},e.createElement("small",{style:this.getJackStyles(),ref:function(e){return t.jack=e}}))},n}(e.Component);return n.propTypes={color:t.string,secondaryColor:t.string,jackColor:t.string,jackSecondaryColor:t.string,className:t.string,disabled:t.bool,disabledOpacity:t.number,speed:t.string,size:t.string,checked:t.bool,onChange:t.func,name:t.string},n.defaultProps={color:"#64bd63",secondaryColor:"#dfdfdf",jackColor:"#fff",jackSecondaryColor:null,className:"sweetcherry",disabled:!1,disabledOpacity:.5,speed:"0.4s",size:"default"},n});
